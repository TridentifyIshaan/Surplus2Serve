<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surplus2Serve - System Architecture</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .architecture-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #2d3748;
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            color: #718096;
            font-size: 1.2rem;
            margin: 0;
        }
        
        .architecture-diagram {
            width: 100%;
            height: 800px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            background: #f8fafc;
            margin-bottom: 40px;
        }
        
        .layer {
            fill: none;
            stroke: #cbd5e0;
            stroke-width: 2;
            stroke-dasharray: 5,5;
        }
        
        .component {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .component:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
        }
        
        .user-layer {
            fill: #e6fffa;
            stroke: #319795;
            stroke-width: 2;
        }
        
        .frontend-layer {
            fill: #faf5ff;
            stroke: #805ad5;
            stroke-width: 2;
        }
        
        .api-layer {
            fill: #fff5f5;
            stroke: #e53e3e;
            stroke-width: 2;
        }
        
        .backend-layer {
            fill: #f0fff4;
            stroke: #38a169;
            stroke-width: 2;
        }
        
        .data-layer {
            fill: #fffaf0;
            stroke: #dd6b20;
            stroke-width: 2;
        }
        
        .user-box {
            fill: #4fd1c7;
            stroke: #319795;
            stroke-width: 2;
        }
        
        .frontend-box {
            fill: #b794f6;
            stroke: #805ad5;
            stroke-width: 2;
        }
        
        .api-box {
            fill: #fc8181;
            stroke: #e53e3e;
            stroke-width: 2;
        }
        
        .backend-box {
            fill: #68d391;
            stroke: #38a169;
            stroke-width: 2;
        }
        
        .data-box {
            fill: #f6ad55;
            stroke: #dd6b20;
            stroke-width: 2;
        }
        
        .text-title {
            font-size: 14px;
            font-weight: bold;
            fill: #2d3748;
            text-anchor: middle;
        }
        
        .text-subtitle {
            font-size: 11px;
            fill: #4a5568;
            text-anchor: middle;
        }
        
        .arrow {
            stroke: #4a5568;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .flow-arrow {
            stroke: #667eea;
            stroke-width: 3;
            fill: none;
            marker-end: url(#flowhead);
        }
        
        .legend {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: #f7fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .tech-stack {
            margin-top: 40px;
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
        }
        
        .tech-stack h3 {
            color: #2d3748;
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.8rem;
        }
        
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .tech-category {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .tech-category h4 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.1rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 8px;
        }
        
        .tech-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .tech-list li {
            padding: 5px 0;
            color: #718096;
            font-size: 0.95rem;
        }
        
        .tech-list li:before {
            content: "▸ ";
            color: #667eea;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="architecture-container">
        <div class="header">
            <h1>🌱 Surplus2Serve</h1>
            <p>System Architecture & Data Flow Diagram</p>
        </div>
        
        <svg class="architecture-diagram" viewBox="0 0 1200 700">
            <!-- Definitions for arrows -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                        refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568" />
                </marker>
                <marker id="flowhead" markerWidth="12" markerHeight="8" 
                        refX="11" refY="4" orient="auto">
                    <polygon points="0 0, 12 4, 0 8" fill="#667eea" />
                </marker>
            </defs>
            
            <!-- Layer Backgrounds -->
            <rect x="50" y="50" width="1100" height="100" class="user-layer" rx="10"/>
            <rect x="50" y="170" width="1100" height="120" class="frontend-layer" rx="10"/>
            <rect x="50" y="310" width="1100" height="100" class="api-layer" rx="10"/>
            <rect x="50" y="430" width="1100" height="120" class="backend-layer" rx="10"/>
            <rect x="50" y="570" width="1100" height="100" class="data-layer" rx="10"/>
            
            <!-- Layer Labels -->
            <text x="25" y="105" class="text-title" transform="rotate(-90 25 105)" fill="#319795">USER LAYER</text>
            <text x="25" y="235" class="text-title" transform="rotate(-90 25 235)" fill="#805ad5">FRONTEND</text>
            <text x="25" y="365" class="text-title" transform="rotate(-90 25 365)" fill="#e53e3e">API GATEWAY</text>
            <text x="25" y="495" class="text-title" transform="rotate(-90 25 495)" fill="#38a169">BACKEND</text>
            <text x="25" y="625" class="text-title" transform="rotate(-90 25 625)" fill="#dd6b20">DATA LAYER</text>
            
            <!-- User Layer Components -->
            <g class="component">
                <rect x="100" y="70" width="150" height="60" class="user-box" rx="8"/>
                <text x="175" y="95" class="text-title">Food Suppliers</text>
                <text x="175" y="110" class="text-subtitle">Restaurants, Farms</text>
                <text x="175" y="125" class="text-subtitle">Grocery Stores</text>
            </g>
            
            <g class="component">
                <rect x="300" y="70" width="150" height="60" class="user-box" rx="8"/>
                <text x="375" y="95" class="text-title">NGOs/Food Banks</text>
                <text x="375" y="110" class="text-subtitle">Community Orgs</text>
                <text x="375" y="125" class="text-subtitle">Relief Centers</text>
            </g>
            
            <g class="component">
                <rect x="500" y="70" width="150" height="60" class="user-box" rx="8"/>
                <text x="575" y="95" class="text-title">Platform Admins</text>
                <text x="575" y="110" class="text-subtitle">System Managers</text>
                <text x="575" y="125" class="text-subtitle">Developers</text>
            </g>
            
            <!-- Frontend Layer Components -->
            <g class="component">
                <rect x="80" y="190" width="140" height="80" class="frontend-box" rx="8"/>
                <text x="150" y="215" class="text-title">Homepage</text>
                <text x="150" y="230" class="text-subtitle">index_clean.html</text>
                <text x="150" y="245" class="text-subtitle">Quick Access</text>
                <text x="150" y="260" class="text-subtitle">Impact Metrics</text>
            </g>
            
            <g class="component">
                <rect x="240" y="190" width="140" height="80" class="frontend-box" rx="8"/>
                <text x="310" y="210" class="text-title">Supplier</text>
                <text x="310" y="225" class="text-title">Dashboard</text>
                <text x="310" y="245" class="text-subtitle">Upload Inventory</text>
                <text x="310" y="260" class="text-subtitle">AI Predictions</text>
            </g>
            
            <g class="component">
                <rect x="400" y="190" width="140" height="80" class="frontend-box" rx="8"/>
                <text x="470" y="210" class="text-title">Customer</text>
                <text x="470" y="225" class="text-title">Dashboard</text>
                <text x="470" y="245" class="text-subtitle">Browse Products</text>
                <text x="470" y="260" class="text-subtitle">Request Items</text>
            </g>
            
            <g class="component">
                <rect x="560" y="190" width="140" height="80" class="frontend-box" rx="8"/>
                <text x="630" y="210" class="text-title">Login Pages</text>
                <text x="630" y="230" class="text-subtitle">Firebase Auth</text>
                <text x="630" y="245" class="text-subtitle">User Management</text>
                <text x="630" y="260" class="text-subtitle">Role Assignment</text>
            </g>
            
            <g class="component">
                <rect x="720" y="190" width="140" height="80" class="frontend-box" rx="8"/>
                <text x="790" y="210" class="text-title">Integration</text>
                <text x="790" y="225" class="text-title">Layer</text>
                <text x="790" y="245" class="text-subtitle">main-integration.js</text>
                <text x="790" y="260" class="text-subtitle">API Client</text>
            </g>
            
            <!-- API Layer Components -->
            <g class="component">
                <rect x="200" y="330" width="200" height="60" class="api-box" rx="8"/>
                <text x="300" y="355" class="text-title">RESTful API Gateway</text>
                <text x="300" y="375" class="text-subtitle">FastAPI (localhost:8000)</text>
            </g>
            
            <g class="component">
                <rect x="450" y="330" width="180" height="60" class="api-box" rx="8"/>
                <text x="540" y="355" class="text-title">ML Prediction API</text>
                <text x="540" y="375" class="text-subtitle">/predict_spoilage</text>
            </g>
            
            <g class="component">
                <rect x="680" y="330" width="160" height="60" class="api-box" rx="8"/>
                <text x="760" y="355" class="text-title">Health Check</text>
                <text x="760" y="375" class="text-subtitle">/health, /stats</text>
            </g>
            
            <!-- Backend Layer Components -->
            <g class="component">
                <rect x="80" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="145" y="475" class="text-title">Main Server</text>
                <text x="145" y="490" class="text-subtitle">main.py</text>
                <text x="145" y="505" class="text-subtitle">FastAPI</text>
                <text x="145" y="520" class="text-subtitle">Request Handling</text>
            </g>
            
            <g class="component">
                <rect x="230" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="295" y="475" class="text-title">ML Engine</text>
                <text x="295" y="490" class="text-subtitle">models.py</text>
                <text x="295" y="505" class="text-subtitle">XGBoost Model</text>
                <text x="295" y="520" class="text-subtitle">Predictions</text>
            </g>
            
            <g class="component">
                <rect x="380" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="445" y="475" class="text-title">Data Manager</text>
                <text x="445" y="490" class="text-subtitle">database.py</text>
                <text x="445" y="505" class="text-subtitle">CRUD Operations</text>
                <text x="445" y="520" class="text-subtitle">Data Processing</text>
            </g>
            
            <g class="component">
                <rect x="530" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="595" y="475" class="text-title">Utilities</text>
                <text x="595" y="490" class="text-subtitle">utils.py</text>
                <text x="595" y="505" class="text-subtitle">Helper Functions</text>
                <text x="595" y="520" class="text-subtitle">Validation</text>
            </g>
            
            <g class="component">
                <rect x="680" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="745" y="475" class="text-title">Smart Matching</text>
                <text x="745" y="490" class="text-subtitle">Algorithm</text>
                <text x="745" y="505" class="text-subtitle">Location-based</text>
                <text x="745" y="520" class="text-subtitle">Optimization</text>
            </g>
            
            <g class="component">
                <rect x="830" y="450" width="130" height="80" class="backend-box" rx="8"/>
                <text x="895" y="475" class="text-title">Impact Analytics</text>
                <text x="895" y="490" class="text-subtitle">SDG Tracking</text>
                <text x="895" y="505" class="text-subtitle">Metrics Calc</text>
                <text x="895" y="520" class="text-subtitle">Reporting</text>
            </g>
            
            <!-- Data Layer Components -->
            <g class="component">
                <rect x="100" y="590" width="140" height="60" class="data-box" rx="8"/>
                <text x="170" y="615" class="text-title">Training Data</text>
                <text x="170" y="635" class="text-subtitle">40K+ Records CSV</text>
            </g>
            
            <g class="component">
                <rect x="260" y="590" width="140" height="60" class="data-box" rx="8"/>
                <text x="330" y="615" class="text-title">ML Models</text>
                <text x="330" y="635" class="text-subtitle">XGBoost PKL Files</text>
            </g>
            
            <g class="component">
                <rect x="420" y="590" width="140" height="60" class="data-box" rx="8"/>
                <text x="490" y="615" class="text-title">User Database</text>
                <text x="490" y="635" class="text-subtitle">Firebase/Local</text>
            </g>
            
            <g class="component">
                <rect x="580" y="590" width="140" height="60" class="data-box" rx="8"/>
                <text x="650" y="615" class="text-title">Inventory Data</text>
                <text x="650" y="635" class="text-subtitle">Real-time Updates</text>
            </g>
            
            <g class="component">
                <rect x="740" y="590" width="140" height="60" class="data-box" rx="8"/>
                <text x="810" y="615" class="text-title">Analytics Store</text>
                <text x="810" y="635" class="text-subtitle">Impact Metrics</text>
            </g>
            
            <!-- Data Flow Arrows -->
            <line x1="175" y1="130" x2="175" y2="190" class="flow-arrow"/>
            <line x1="375" y1="130" x2="375" y2="190" class="flow-arrow"/>
            <line x1="575" y1="130" x2="575" y2="190" class="flow-arrow"/>
            
            <line x1="300" y1="270" x2="300" y2="330" class="flow-arrow"/>
            <line x1="540" y1="270" x2="540" y2="330" class="flow-arrow"/>
            
            <line x1="300" y1="390" x2="300" y2="450" class="flow-arrow"/>
            <line x1="540" y1="390" x2="540" y2="450" class="flow-arrow"/>
            
            <line x1="295" y1="530" x2="295" y2="590" class="flow-arrow"/>
            <line x1="445" y1="530" x2="445" y2="590" class="flow-arrow"/>
            
            <!-- Horizontal connections -->
            <line x1="380" y1="230" x2="560" y2="230" class="arrow"/>
            <line x1="400" y1="360" x2="450" y2="360" class="arrow"/>
            <line x1="630" y1="360" x2="680" y2="360" class="arrow"/>
            
        </svg>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #4fd1c7;"></div>
                <span>User Interface Layer</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #b794f6;"></div>
                <span>Frontend Components</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #fc8181;"></div>
                <span>API Gateway</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #68d391;"></div>
                <span>Backend Services</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f6ad55;"></div>
                <span>Data Storage</span>
            </div>
        </div>
        
        <div class="tech-stack">
            <h3>🛠️ Technology Stack</h3>
            <div class="tech-grid">
                <div class="tech-category">
                    <h4>Frontend</h4>
                    <ul class="tech-list">
                        <li>HTML5 / CSS3</li>
                        <li>Vanilla JavaScript</li>
                        <li>Responsive Design</li>
                        <li>FontAwesome Icons</li>
                        <li>Google Fonts</li>
                    </ul>
                </div>
                <div class="tech-category">
                    <h4>Backend</h4>
                    <ul class="tech-list">
                        <li>Python 3.8+</li>
                        <li>FastAPI Framework</li>
                        <li>Uvicorn Server</li>
                        <li>Pydantic Models</li>
                        <li>CORS Middleware</li>
                    </ul>
                </div>
                <div class="tech-category">
                    <h4>Machine Learning</h4>
                    <ul class="tech-list">
                        <li>XGBoost Algorithm</li>
                        <li>Scikit-learn</li>
                        <li>Pandas & NumPy</li>
                        <li>Jupyter Notebooks</li>
                        <li>Pickle Serialization</li>
                    </ul>
                </div>
                <div class="tech-category">
                    <h4>Data & Analytics</h4>
                    <ul class="tech-list">
                        <li>CSV Data Storage</li>
                        <li>Real-time Processing</li>
                        <li>Feature Engineering</li>
                        <li>Cross-validation</li>
                        <li>Performance Metrics</li>
                    </ul>
                </div>
                <div class="tech-category">
                    <h4>Authentication</h4>
                    <ul class="tech-list">
                        <li>Firebase Auth</li>
                        <li>Role-based Access</li>
                        <li>Session Management</li>
                        <li>LocalStorage</li>
                        <li>Secure Redirects</li>
                    </ul>
                </div>
                <div class="tech-category">
                    <h4>DevOps & Tools</h4>
                    <ul class="tech-list">
                        <li>Batch Scripts</li>
                        <li>Git Version Control</li>
                        <li>VS Code IDE</li>
                        <li>PowerShell</li>
                        <li>Python Virtual Env</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Add interactive hover effects
        document.querySelectorAll('.component').forEach(component => {
            component.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.05)';
                this.style.filter = 'drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15))';
            });
            
            component.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
                this.style.filter = 'none';
            });
        });
        
        // Add click functionality to show component details
        document.querySelectorAll('.component').forEach(component => {
            component.addEventListener('click', function() {
                const title = this.querySelector('.text-title').textContent;
                alert(`Component: ${title}\n\nClick to learn more about this system component.`);
            });
        });
    </script>
</body>
</html>
